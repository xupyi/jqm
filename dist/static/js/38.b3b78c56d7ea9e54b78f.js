webpackJsonp([38],{"0BWT":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("7I1f"),o=s("L/hj"),e={data:function(){return{work_datas:{},work_price_active:s("FL6W"),work_price_normal:s("PBIX"),work_price_index:null,desgin_price_index:null,house_List:[],val:{good_id:"",order_type:3,num:1,area:"",price:"",quantity_room_id:"",stage_number:""},shadow:!1,status:"img",img_active:"",img_src:"",getByStagesList:"",total_:"",stage1:"",stage2:"",stage3:""}},computed:{total:function(){return""==this.val.price||""==this.val.area?"0.00":(this.total_=o.a.accMul(this.val.price,this.val.area),o.a.accMul(this.val.price,this.val.area))}},filters:{total_1:function(t,a,s){return o.a.accMul(a,Number(s)/100)}},created:function(){var t=this;this.$store.commit("show_looding"),Object(i.a)({url:"/api/getConstruction",method:"post"}).then(function(a){console.log(a),t.$store.commit("hide_looding"),200==a.status&&(t.work_datas=a.data.data,t.val.good_id=a.data.data.id,t.img_src=""==a.data.data.gpics?"":a.data.data.gpics[0])}),Object(i.a)({url:"/api/getUserList",method:"post"}).then(function(a){console.log(a),200==a.status&&(t.UserList=a.data.data.data)}),Object(i.a)({url:"/api/getQuantityRoom",method:"post"}).then(function(a){console.log(a),t.$store.commit("hide_looding"),200==a.status&&(t.house_List=a.data.data)}),Object(i.a)({url:"/api/construction/getByStagesList",method:"post"}).then(function(a){console.log(a),t.$store.commit("hide_looding"),200==a.status&&(t.stage1=a.data.data[0].stages_proportion,t.stage2=a.data.data[1].stages_proportion,t.stage3=a.data.data[2].stages_proportion)})},methods:{go_shop:function(){sessionStorage.setItem("shop_index",3),this.$router.push("/shop")},vr_tap:function(){""!=this.work_datas.panorama&&null!=this.work_datas.panorama&&(window.location.href=this.work_datas.panorama)},img_tap:function(t){this.status="img",this.img_active=t,this.img_src=this.work_datas.gpics[t]},img_vr:function(){this.img_active=this.status="vr"},left_tap:function(){"img"==this.status?(this.img_active=0==this.img_active?0:this.img_active-1,this.img_src=this.work_datas.gpics[this.img_active]):(this.status="img",this.img_active=this.work_datas.gpics.length-1,this.img_src=this.work_datas.gpics[this.img_active])},right_tap:function(){this.img_active!=this.work_datas.gpics.length-1||""==this.work_datas.video_pic_url?"img"==this.status&&this.img_active!=this.work_datas.gpics.length-1&&(this.img_active+=1,this.img_src=this.work_datas.gpics[this.img_active]):this.img_active=this.status="vr"},house_tap:function(){this.$store.state.is_login?this.$router.push("/home/room"):(this.$toast("暂未登录，请先登录"),this.$router.push("/login"))},by_stages_tap:function(t){this.val.stage_number=t},navList_tap:function(t){this.active=t},work_price_tap:function(t,a){this.work_price_index=t,this.val.price=a},add_shop_tap:function(){var t=this;console.log(this.val),""==this.val.area||0==this.val.area?this.$toast("请输入房屋面积"):""==this.val.quantity_room_id?this.$toast("请选择房屋"):""==this.val.price?this.$toast("请选择施工费"):""==this.val.stage_number?this.$toast("请选择分期"):Object(i.a)({url:"/api/addCart",data:this.val,method:"post"}).then(function(a){console.log(a),200==a.data.status?(t.$store.commit("hide_looding"),t.shadow=!0):t.$toast(a.data.msg)})},x_shop_tap:function(){this.shadow=!1},work_detail_tap:function(t,a){this.$router.push({path:"/designer_detail",query:{id:t,price:this.UserList[a].price,type:""}})}}},r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("section",{staticClass:"work"},[i("section",{staticClass:"img_list"},[i("div",{staticClass:"gpics"},["img"==t.status&&""!=t.work_datas.panorama&&null!=t.work_datas.panorama?i("img",{staticClass:"vr360",attrs:{src:s("DqIX"),alt:""},on:{click:t.vr_tap}}):t._e(),t._v(" "),"img"==t.status?i("img",{staticClass:"big_img",attrs:{src:t.img_src,alt:""},on:{click:t.vr_tap}}):i("video",{staticStyle:{"object-fit":"fill"},attrs:{controls:"",poster:t.work_datas.video_pic_url,src:t.work_datas.video_url}})]),t._v(" "),i("div",{staticClass:"list_ul"},[i("img",{attrs:{src:s("M0pp"),alt:""},on:{click:t.left_tap}}),t._v(" "),i("ul",[t._l(t.work_datas.gpics,function(a,s){return i("li",{key:s,class:t.img_active==s?"img_bor":"",on:{click:function(a){return t.img_tap(s)}}},[i("img",{attrs:{src:a,alt:""}})])}),t._v(" "),t.work_datas.video_pic_url?i("li",{staticClass:"vr",class:"vr"==t.img_active?"img_bor":"",on:{click:t.img_vr}},[i("img",{attrs:{src:t.work_datas.video_pic_url,alt:""}}),t._v(" "),i("img",{staticClass:"bf_img",attrs:{src:s("m9pA"),alt:""}})]):t._e()],2),t._v(" "),i("img",{attrs:{src:s("QucZ"),alt:""},on:{click:t.right_tap}})])]),t._v(" "),i("p",[i("span",[t._v("推荐指数：")]),t._v(" "),t._l(t.work_datas.rec_star,function(t,a){return i("img",{key:a,attrs:{src:s("RnCc"),alt:""}})})],2),t._v(" "),i("div",{staticClass:"work_title"},[t._v(t._s(t.work_datas.show_title))]),t._v(" "),i("ul",{staticClass:"work_ul"},[t._l(t.work_datas.good_construction_price,function(a,s){return i("li",{key:s,on:{click:function(i){return t.work_price_tap(s,a.construction_price)}}},[i("img",{attrs:{src:t.work_price_index==s?t.work_price_active:t.work_price_normal,alt:""}}),t._v(" "),i("div",[i("p",[t._v("\n            每平米施工费单价\n            "),i("span",[t._v(t._s(parseInt(a.construction_price)))]),t._v(" 元\n          ")])])])}),t._v(" "),i("li",[i("div",[i("div",{staticClass:"area"},[t._v("\n            待施工房屋面积：\n            "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.val.area,expression:"val.area"}],attrs:{type:"number"},domProps:{value:t.val.area},on:{input:function(a){a.target.composing||t.$set(t.val,"area",a.target.value)}}}),t._v("平米\n          ")]),t._v(" "),i("div",{staticClass:"select_home"},[i("span",[t._v("选择房屋：")]),t._v(" "),""==t.house_List?i("p",{on:{click:t.house_tap}},[i("span",[t._v("请先提交量房预约")]),t._v(" "),i("img",{attrs:{src:s("RewR"),alt:""}})]):i("select",{directives:[{name:"model",rawName:"v-model",value:t.val.quantity_room_id,expression:"val.quantity_room_id"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.val,"quantity_room_id",a.target.multiple?s:s[0])}}},[i("option",{attrs:{value:"",disabled:""}},[t._v("请选择")]),t._v(" "),t._l(t.house_List,function(a,s){return i("option",{key:s,domProps:{value:a.id}},[t._v(t._s(a.address))])})],2)])])])],2),t._v(" "),i("p",{staticClass:"amount_price"},[t._v("\n      设计费用合计￥\n      "),i("span",[t._v(t._s(t.total)+" ")]),t._v("元\n    ")]),t._v(" "),i("div",{staticClass:"by_stages"},[i("p",{on:{click:function(a){return t.by_stages_tap(1)}}},[i("img",{attrs:{src:1==t.val.stage_number?t.work_price_active:t.work_price_normal,alt:""}}),t._v(" "),i("span",[t._v("\n          第1期 首付款"+t._s(parseInt(t.stage1))+"%：RMB ￥\n          "),i("span",[t._v(t._s(t._f("total_1")(t.total,t.total_,t.stage1)))]),t._v("元\n        ")])]),t._v(" "),i("p",{on:{click:function(a){return t.by_stages_tap(2)}}},[i("img",{attrs:{src:2==t.val.stage_number?t.work_price_active:t.work_price_normal,alt:""}}),t._v(" "),i("span",[t._v("\n          第2期 中期款"+t._s(parseInt(t.stage2))+"%：RMB ￥\n          "),i("span",[t._v(t._s(t._f("total_1")(t.total,t.total_,t.stage2)))]),t._v("元\n        ")])]),t._v(" "),i("p",{on:{click:function(a){return t.by_stages_tap(3)}}},[i("img",{attrs:{src:3==t.val.stage_number?t.work_price_active:t.work_price_normal,alt:""}}),t._v(" "),i("span",[t._v("\n          第3期 中期款"+t._s(parseInt(t.stage3))+"%：RMB ￥\n          "),i("span",[t._v(t._s(t._f("total_1")(t.total,t.total_,t.stage3)))]),t._v("元\n        ")])])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"road_btn",on:{click:t.add_shop_tap}},[t._v("加入购物车")]),t._v(" "),i("div",{staticClass:"footer"},[i("p",[t._v("施工介绍")]),t._v(" "),i("div",{staticClass:"foot_cont",domProps:{innerHTML:t._s(t.work_datas.content)}})])]),t._v(" "),t.shadow?i("div",{staticClass:"shadow",on:{touchmove:function(t){t.preventDefault()}}},[i("div",[t._m(1),t._v(" "),i("div",{staticClass:"shadow_btn"},[i("span",{on:{click:t.x_shop_tap}},[t._v("留在本页")]),t._v(" "),i("div",{staticClass:"shadow_btn_line"}),t._v(" "),i("span",{on:{click:t.go_shop}},[t._v("去购物车结算")])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"point"},[a("p",[this._v("友情提示：")]),this._v(" "),a("p",[this._v("点击“加入购物车”之前，请您仔细阅读“施工介绍”。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"shadow_cont"},[a("img",{attrs:{src:s("gSOG"),alt:""}}),this._v(" "),a("p",[this._v("已成功加入购物车")])])}]};var _=s("VU/8")(e,r,!1,function(t){s("wUDs")},"data-v-585f6aca",null);a.default=_.exports},wUDs:function(t,a){}});
//# sourceMappingURL=38.b3b78c56d7ea9e54b78f.js.map