{"version":3,"sources":["webpack:///src/views/user-view/Collection.vue","webpack:///./src/views/user-view/Collection.vue?335e","webpack:///./src/views/user-view/Collection.vue"],"names":["Collection","data","foot","collection_list","active","__webpack_require__","nomore","del_list","created","this","getdata","watch","methods","is_true","i","ind","a","indexOf","splice","push","length","console","log","go_detail","$router","path","query","id","foot_tap","index","goods_id","_index","del_tap","_this","$store","commit","Object","request","url","method","then","status","$toast","dels_tap","_this2","join","_this3","msg","user_view_Collection","render","_vm","_h","$createElement","_c","_self","attrs","_v","_l","item","key","style","background","staticClass","src","alt","on","click","$event","gpics","_s","manufactor_name","show_title","price","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/40.0c839721b4f37143f93f.js","sourcesContent":["<template>\n  <div id=\"collection\">\n    <h3>我收藏的商品</h3>\n    <ul>\n      <li\n        :style=\"{background:item.is_true?'#FEF8DA':''}\"\n        v-for=\"(item, index) in collection_list\"\n        :key=\"index\"\n      >\n        <div class=\"left\">\n          <img @click=\"is_true(item.goods_id,index)\" :src=\"item.is_true?active:nomore\" alt />\n          <div class=\"msg\" @click=\"go_detail(item.goods_id)\">\n            <img :src=\"item.gpics[0]\" alt />\n            <div>\n              <p>{{item.manufactor_name}} {{item.show_title}}</p>\n              <span>￥{{item.price}}</span>\n            </div>\n          </div>\n        </div>\n        <div @click=\"del_tap(item.goods_id,index)\" class=\"del\">删除</div>\n      </li>\n    </ul>\n    <div class=\"footer\">\n      <div class=\"foot_se\" @click=\"foot_tap\">\n        <img :src=\"foot?active:nomore\" alt />\n        <span>全选</span>\n      </div>\n      <div class=\"foot_del\" @click=\"dels_tap\">删除</div> \n    </div>\n  </div>\n</template>\n<script>\nimport request from \"@/request\";\nexport default {\n  data() {\n    return {\n      foot: false,\n      collection_list: [],\n      active: require(\"../../assets/home_img/dui.png\"),\n      nomore: require(\"../../assets/home_img/yuan.png\"),\n      del_list: []\n    };\n  },\n  created() {\n    this.getdata();\n  },\n  watch: {\n    collection_list() {\n      if (this.collection_list == \"\") {\n        this.foot = false;\n      }\n    }\n  },\n  methods: {\n    is_true(i, ind) {\n      let a = this.del_list.indexOf(i);\n      if (a != -1) {\n        this.del_list.splice(a, 1);\n        this.collection_list[ind].is_true = false;\n      } else {\n        this.del_list.push(i);\n        this.collection_list[ind].is_true = true;\n      }\n      if (this.del_list.length == this.collection_list.length) {\n        this.foot = true;\n      } else {\n        this.foot = false;\n      }\n      console.log(this.del_list);\n    },\n    go_detail(i) {\n      this.$router.push({ path: \"/shop_detail\", query: { id: i } });\n    },\n    foot_tap() {\n      this.foot = !this.foot;\n      this.del_list = [];\n      if (this.foot) {\n        for (let index = 0; index < this.collection_list.length; index++) {\n          this.collection_list[index].is_true = true;\n          this.del_list.push(this.collection_list[index].goods_id);\n        }\n      } else {\n        for (let index = 0; index < this.collection_list.length; index++) {\n          this.collection_list[index].is_true = false;\n        }\n      }\n      console.log(this.del_list);\n    },\n    // 删除\n    del_tap(i, index) {\n      this.$store.commit(\"show_looding\");\n      if (i) {\n        request({\n          url: \"/api/delCollectionGoods\",\n          data: { goods_id: i },\n          method: \"post\"\n        }).then(data => {\n          console.log(data);\n          if (data.data.status == 200) {\n            this.$toast(\"删除成功！\");\n            this.collection_list.splice(index, 1);\n          } else {\n            console.log(data);\n          }\n          this.$store.commit(\"hide_looding\");\n        });\n      }\n    },\n    dels_tap() {\n      console.log(this.del_list.join());\n      if (this.del_list.join().length == 0) {\n        this.$toast(\"请选择商品\");\n        return;\n      }\n      request({\n        url: \"/api/delCollectionGoods\",\n        data: { goods_id: this.del_list.join() },\n        method: \"post\"\n      }).then(data => {\n        console.log(data);\n        this.$toast(\"删除成功！\");\n        this.getdata();\n      });\n    },\n    getdata() {\n      this.$store.commit(\"show_looding\");\n      request({\n        url: \"/api/getUserCollectionGoods\",\n        method: \"post\"\n      }).then(data => {\n        console.log(data);\n        if (data.data.status == 200) {\n          for (let index = 0; index < data.data.data.length; index++) {\n            data.data.data[index].is_true = false;\n          }\n          this.collection_list = data.data.data;\n          console.log(data.data.data);\n        } else {\n          console.log(data);\n          this.$toast(data.data.msg);\n        }\n        this.$store.commit(\"hide_looding\");\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n#collection > h3 {\n  font-weight: bold;\n  font-size: 0.36rem;\n  text-align: center;\n  padding: 0.2rem 0;\n  border-bottom: 0.3px solid #7f7f7f;\n}\nul{\n  margin-bottom: 1rem;\n}\nli {\n  font-size: 0.28rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.23rem;\n  border-bottom: 0.3px solid #7f7f7f;\n}\n.left {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.left > img {\n  width: 0.4rem;\n  height: 0.4rem;\n  margin-right: 0.2rem;\n}\nli .msg img {\n  border: 0.3px solid #ccc;\n  width: 1.75rem;\n  height: 1.25rem;\n}\n\nli .del {\n  font-size: 0.28rem;\n  color: #eb1b84;\n  padding: 0.05rem 0.1rem;\n  border-radius: 0.1rem;\n}\n\nli .msg {\n  display: flex;\n  flex-direction: row;\n}\n.msg p{\n  font-size: 0.26rem;\n}\nli span {\n  color: #eb1b84;\n  font-size: 0.34rem;\n}\n\nli .msg div {\n  margin: 0.1rem 0.2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.footer {\n  background: #f2f2f2;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  border-top: 0.3px solid #7f7f7f;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n  align-items: center;\n}\n.foot_se {\n  font-size: 0.3rem;\n  display: flex;\n  align-items: center;\n}\n.foot_se img {\n  width: 0.4rem;\n  height: 0.4rem;\n  margin: 0 0.1rem 0 0.23rem;\n}\n.foot_del {\n  font-size: 0.3rem;\n  background: #fd2692;\n  padding: 0.2rem 0.5rem;\n  color: white;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/user-view/Collection.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"collection\"}},[_c('h3',[_vm._v(\"我收藏的商品\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.collection_list),function(item,index){return _c('li',{key:index,style:({background:item.is_true?'#FEF8DA':''})},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":item.is_true?_vm.active:_vm.nomore,\"alt\":\"\"},on:{\"click\":function($event){return _vm.is_true(item.goods_id,index)}}}),_vm._v(\" \"),_c('div',{staticClass:\"msg\",on:{\"click\":function($event){return _vm.go_detail(item.goods_id)}}},[_c('img',{attrs:{\"src\":item.gpics[0],\"alt\":\"\"}}),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(_vm._s(item.manufactor_name)+\" \"+_vm._s(item.show_title))]),_vm._v(\" \"),_c('span',[_vm._v(\"￥\"+_vm._s(item.price))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"del\",on:{\"click\":function($event){return _vm.del_tap(item.goods_id,index)}}},[_vm._v(\"删除\")])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"foot_se\",on:{\"click\":_vm.foot_tap}},[_c('img',{attrs:{\"src\":_vm.foot?_vm.active:_vm.nomore,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"全选\")])]),_vm._v(\" \"),_c('div',{staticClass:\"foot_del\",on:{\"click\":_vm.dels_tap}},[_vm._v(\"删除\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f083b74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user-view/Collection.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f083b74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Collection.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Collection.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Collection.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f083b74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Collection.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f083b74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user-view/Collection.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}