webpackJsonp([40],{T19f:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=i("7I1f"),l={data:function(){return{foot:!1,collection_list:[],active:i("FL6W"),nomore:i("PBIX"),del_list:[]}},created:function(){this.getdata()},watch:{collection_list:function(){""==this.collection_list&&(this.foot=!1)}},methods:{is_true:function(t,o){var i=this.del_list.indexOf(t);-1!=i?(this.del_list.splice(i,1),this.collection_list[o].is_true=!1):(this.del_list.push(t),this.collection_list[o].is_true=!0),this.del_list.length==this.collection_list.length?this.foot=!0:this.foot=!1,console.log(this.del_list)},go_detail:function(t){this.$router.push({path:"/shop_detail",query:{id:t}})},foot_tap:function(){if(this.foot=!this.foot,this.del_list=[],this.foot)for(var t=0;t<this.collection_list.length;t++)this.collection_list[t].is_true=!0,this.del_list.push(this.collection_list[t].goods_id);else for(var o=0;o<this.collection_list.length;o++)this.collection_list[o].is_true=!1;console.log(this.del_list)},del_tap:function(t,o){var i=this;this.$store.commit("show_looding"),t&&Object(s.a)({url:"/api/delCollectionGoods",data:{goods_id:t},method:"post"}).then(function(t){console.log(t),200==t.data.status?(i.$toast("删除成功！"),i.collection_list.splice(o,1)):console.log(t),i.$store.commit("hide_looding")})},dels_tap:function(){var t=this;console.log(this.del_list.join()),0!=this.del_list.join().length?Object(s.a)({url:"/api/delCollectionGoods",data:{goods_id:this.del_list.join()},method:"post"}).then(function(o){console.log(o),t.$toast("删除成功！"),t.getdata()}):this.$toast("请选择商品")},getdata:function(){var t=this;this.$store.commit("show_looding"),Object(s.a)({url:"/api/getUserCollectionGoods",method:"post"}).then(function(o){if(console.log(o),200==o.data.status){for(var i=0;i<o.data.data.length;i++)o.data.data[i].is_true=!1;t.collection_list=o.data.data,console.log(o.data.data)}else console.log(o),t.$toast(o.data.msg);t.$store.commit("hide_looding")})}}},e={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{attrs:{id:"collection"}},[i("h3",[t._v("我收藏的商品")]),t._v(" "),i("ul",t._l(t.collection_list,function(o,s){return i("li",{key:s,style:{background:o.is_true?"#FEF8DA":""}},[i("div",{staticClass:"left"},[i("img",{attrs:{src:o.is_true?t.active:t.nomore,alt:""},on:{click:function(i){return t.is_true(o.goods_id,s)}}}),t._v(" "),i("div",{staticClass:"msg",on:{click:function(i){return t.go_detail(o.goods_id)}}},[i("img",{attrs:{src:o.gpics[0],alt:""}}),t._v(" "),i("div",[i("p",[t._v(t._s(o.manufactor_name)+" "+t._s(o.show_title))]),t._v(" "),i("span",[t._v("￥"+t._s(o.price))])])])]),t._v(" "),i("div",{staticClass:"del",on:{click:function(i){return t.del_tap(o.goods_id,s)}}},[t._v("删除")])])}),0),t._v(" "),i("div",{staticClass:"footer"},[i("div",{staticClass:"foot_se",on:{click:t.foot_tap}},[i("img",{attrs:{src:t.foot?t.active:t.nomore,alt:""}}),t._v(" "),i("span",[t._v("全选")])]),t._v(" "),i("div",{staticClass:"foot_del",on:{click:t.dels_tap}},[t._v("删除")])])])},staticRenderFns:[]};var n=i("VU/8")(l,e,!1,function(t){i("hi84")},"data-v-4f083b74",null);o.default=n.exports},hi84:function(t,o){}});
//# sourceMappingURL=40.0c839721b4f37143f93f.js.map