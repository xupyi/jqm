webpackJsonp([19],{"23wn":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("jnG1"),e=i("7I1f"),n=i("L/hj"),o={components:{header_:s.a},data:function(){return{taocan_true:"",num:"",total:"",no_invoice_total:"",type_is:"",address:"",data_detail:[],order_info:{},invoice_tax_point:"",active:i("FL6W"),nomore:i("PBIX"),val:{car_ids:"",pay_type:"2",address_id:"",request_type:"h5",is_invoice:"",invoice_id:"",leaving_message:"",return_url:"http://www.baidu.com"},is_wechat:"",invoice_list:[],is_invoice:""}},created:function(){var t=this;console.log(this.$route),this.val.car_ids=this.$route.query.cart_ids,this.is_wechat=this.$store.state.is_wechat,this.type_is=this.$route.query.order_type,this.$store.commit("show_looding"),Object(e.a)({url:"/api/cart/getCarListInfo",data:{cart_ids:this.$route.query.cart_ids,order_type:this.$route.query.order_type},method:"post"}).then(function(a){if(t.$store.commit("hide_looding"),console.log(a.data),200==a.data.status){t.data_detail=a.data.data,t.invoice_tax_point=a.data.invoice_tax_point;var i=0,s=0;if(1==t.$route.query.order_type)for(var e=0;e<a.data.data.length;e++)for(var o=a.data.data[e],r=0;r<o.goods_list.length;r++){var _=o.goods_list[r];s+=n.a.jia1(_.total_sum),i++}else for(var v=0;v<a.data.data.length;v++){var c=a.data.data[v];s+=n.a.jia1(c.total_sum),i++}t.num=i,t.no_invoice_total=t.total=s}else t.$toast(a.data.msg)});var a=sessionStorage.getItem("address");Object(e.a)({url:"/api/getUserAddressList",method:"post"}).then(function(i){console.log(i.data);for(var s=0;s<i.data.data.length;s++){if(i.data.data[s].id==a)return t.address=i.data.data[s],void(t.val.address_id=i.data.data[s].id);1==i.data.data[s].default&&(t.address=i.data.data[s],t.val.address_id=i.data.data[s].id)}}),Object(e.a)({url:"/api/getList",data:{status:0},method:"post"}).then(function(a){console.log(a.data),200==a.data.status&&(t.invoice_list=a.data.data)})},methods:{big_img:function(t){this.$store.state.amplify_img=t},taocan_true_tap:function(t){this.taocan_true=this.taocan_true===t?"":t},invoice_1:function(t,a){var i=this;Object(e.a)({url:"/api/UserInvoice/setDefault",data:{id:t},method:"post"}).then(function(s){if(console.log(s.data),200==s.data.status){i.val.invoice_id=t;for(var e=0;e<i.invoice_list.length;e++)i.invoice_list[e].is_default=0;i.invoice_list[a].is_default=1}})},invoice_2:function(){this.$router.push({path:"/personal/add_invoice"})},invoice_3:function(t){this.$router.push({path:"/personal/add_invoice",query:{id:t}})},pay_type1:function(t){this.val.pay_type=t},active_tap:function(t){this.val.is_invoice=t;for(var a=0;a<this.invoice_list.length;a++)1==this.invoice_list[a].is_default&&(this.val.invoice_id=this.invoice_list[a].id);if(1==t){var i=n.a.accMul(Number(this.invoice_tax_point)/100,this.total);console.log(i),this.total+=n.a.jia1(i)}else this.total=this.no_invoice_total,this.val.invoice_id=""},btn_tap:function(){var t=this;console.log(this.val),""==this.val.address_id?this.$toast("请选择收货地址！"):1==this.val.is_invoice&&""==this.val.invoice_id?this.$toast("请选择发票地址！"):""==this.val.pay_type?this.$toast("请选择支付方式！"):Object(e.a)({url:"/api/order/addOrderPay",data:this.val,method:"post"}).then(function(a){200==a.data.status?(console.log(a.data.data),console.log("===================="),window.location.href=a.data.data.billQRCode):t.$toast(a.data.msg)})},initList:function(t){var a=this;this.myInterval=window.setInterval(function(){setTimeout(function(){Object(e.a)({url:"/api/order/getOrderStatus",method:"post",data:{orderid:t}}).then(function(t){console.log(t),console.log(t.data.msg),200==t.data.status&&(a.destroyed(),a.$router.push("/order"))})},1)},3e3)},destroyed:function(){clearInterval(this.myInterval)}},beforeDestroy:function(){this.destroyed()}},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("header_"),t._v(" "),s("div",{staticClass:"settle"},[s("h3",[t._v("结算支付")]),t._v(" "),s("section",{staticClass:"address_info"},[s("div",[t._m(0),t._v(" "),""!=t.address?s("div",{staticClass:"address"},[s("p",[t._v(t._s(t.address.user_detail_info)+t._s(t.address.address))]),t._v(" "),s("p",[t._v("\n            "+t._s(t.address.consignee)+"\n            "),s("span",[t._v(t._s(t.address.mobile))])])]):s("div",{staticClass:"adre"},[t._v("暂无地址，请添加")])])]),t._v(" "),s("section",{staticClass:"link"},[s("router-link",{attrs:{to:{path:"/personal/add_address",query:{path:this.$route.path,transaction:t.val.transaction}}}},[t._v("新增收货地址")]),t._v(" "),s("router-link",{attrs:{to:{path:"/personal/address",query:{path:this.$route.path,transaction:t.val.transaction}}}},[t._v("选择收货地址")])],1),t._v(" "),s("section",{staticClass:"order_goods"},[1==t.type_is?s("ul",{staticClass:"shop_ul"},t._l(t.data_detail,function(a,i){return s("li",{key:i},[s("p",[t._v(t._s(a.manufactor_name))]),t._v(" "),t._l(a.goods_list,function(a,i){return s("div",{key:i},[s("img",{attrs:{src:a.gpics,alt:""}}),t._v(" "),s("div",[s("p",[s("span",[t._v(t._s(a.show_title))])]),t._v(" "),s("p",[t._v("\n                颜色/分类：\n                "),s("span",[t._v(t._s(a.subject_info.color))])]),t._v(" "),s("p",[t._v("\n                尺寸：\n                "),s("span",[t._v(t._s(a.subject_info.size))])]),t._v(" "),s("p",[t._v("\n                材质：\n                "),s("span",[t._v(t._s(a.subject_info.caizhi))])]),t._v(" "),s("p",{staticClass:"last_p"},[s("span",[t._v("￥"+t._s(a.price))]),t._v(" "),s("span",[t._v("x "+t._s(a.num))])])])])})],2)}),0):s("ul",{staticClass:"other_cont"},t._l(t.data_detail,function(a,i){return s("li",{key:i},[s("div",{staticClass:"lin_cont"},[s("div",{staticClass:"goods_l"},[s("img",{attrs:{src:a.gpics[0],alt:""}}),t._v(" "),s("div",[s("p",[t._v("\n                  "+t._s(a.title)+"每平方米单价\n                  "),s("span",[t._v(t._s(a.price))]),t._v("元\n                ")]),t._v(" "),3==t.type_is||4==t.type_is?s("p",[t._v("\n                  待"+t._s(a.title)+"房屋面积\n                  "),s("span",[t._v(t._s(a.area))]),t._v("平方米\n                ")]):t._e(),t._v(" "),2==t.type_is?s("p",[t._v("\n                  "+t._s(a.title)+"房屋面积\n                  "),s("span",[t._v(t._s(a.area))]),t._v("平方米\n                ")]):t._e()])]),t._v(" "),2==t.type_is||4==t.type_is?s("div",{staticClass:"goods_r"},[s("p",{on:{click:function(a){return t.taocan_true_tap(i)}}},[t._v("展开选项")])]):t._e()]),t._v(" "),t.taocan_true===i?s("div",{staticClass:"taocan_true"},[s("p",[t._v("项目内容："+t._s(a.user_choice_show_title))]),t._v(" "),s("div",t._l(a.user_choice_show_image,function(a,i){return s("p",{key:i},[s("img",{attrs:{src:a,alt:""},on:{click:function(i){return t.big_img(a)}}})])}),0)]):t._e()])}),0),t._v(" "),s("div",{staticClass:"heji"},[s("p",[t._v("\n          共\n          "),s("span",[t._v(t._s(t.num))]),t._v("件商品\n        ")]),t._v(" "),s("p",[t._v("\n          合计：\n          "),s("span",[t._v("￥"+t._s(t.total))])])])]),t._v(" "),s("section",{staticClass:"liuyan"},[s("div",[t._v("留言：")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val.leaving_message,expression:"val.leaving_message"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.val.leaving_message},on:{input:function(a){a.target.composing||t.$set(t.val,"leaving_message",a.target.value)}}})]),t._v(" "),s("section",{staticClass:"invoice"},[s("div",[s("span",[t._v("发票选择：")]),t._v(" "),s("p",{on:{click:function(a){return t.active_tap(1)}}},[s("img",{attrs:{src:1===t.val.is_invoice?t.active:t.nomore,alt:""}}),t._v(" "),s("span",[t._v("需要发票")])]),t._v(" "),s("p",{on:{click:function(a){return t.active_tap(0)}}},[s("img",{attrs:{src:0===t.val.is_invoice?t.active:t.nomore,alt:""}}),t._v(" "),s("span",[t._v("不要发票")])])]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:1===t.val.is_invoice,expression:"val.is_invoice===1"}],staticClass:"invoice_list"},t._l(t.invoice_list,function(a,e){return s("li",{key:e},[s("div",[s("span",[t._v("发票抬头：")]),t._v(" "),s("span",[t._v(t._s(a.invoice_name))])]),t._v(" "),s("div",[s("span",[t._v("收票地址：")]),t._v(" "),s("span",[t._v(t._s(a.address))])]),t._v(" "),s("div",[s("p",{on:{click:function(i){return t.invoice_1(a.id,e)}}},[s("img",{attrs:{src:1===a.is_default?t.active:t.nomore,alt:""}}),t._v(" "),s("span",[t._v("设为默认抬头")])]),t._v(" "),s("p",{on:{click:t.invoice_2}},[s("img",{attrs:{src:i("A6cZ"),alt:""}}),t._v(" "),s("span",[t._v("添加开票信息")])]),t._v(" "),s("p",{on:{click:function(i){return t.invoice_3(a.id)}}},[s("img",{attrs:{src:i("MAl9"),alt:""}}),t._v(" "),s("span",[t._v("修改")])])])])}),0)]),t._v(" "),s("section",{staticClass:"pay_type"},[s("p",[t._v("支付方式：")]),t._v(" "),s("ul",[s("li",{on:{click:function(a){return t.pay_type1(2)}}},[t._m(1),t._v(" "),s("img",{attrs:{src:2==t.val.pay_type?t.active:t.nomore,alt:""}})]),t._v(" "),s("p",[t._v("\n          *如您使用支付宝或者银联付款，请至PC端金秋梦装饰商城进行支付！\n        ")])]),t._v(" "),s("div",{staticClass:"btn"},[s("button",{on:{click:t.btn_tap}},[t._v("确认并支付")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:i("RhYd"),alt:""}}),this._v(" "),a("span",[this._v("地址")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("img",{attrs:{src:i("Aw4n"),alt:""}}),this._v(" "),a("span",[this._v("微信")])])}]};var _=i("VU/8")(o,r,!1,function(t){i("JyNy")},"data-v-1240ca70",null);a.default=_.exports},Aw4n:function(t,a){t.exports="data:image/png;base64,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"},JyNy:function(t,a){}});
//# sourceMappingURL=19.deb937c76aadb6aa4b6c.js.map