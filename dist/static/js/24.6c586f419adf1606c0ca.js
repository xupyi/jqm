webpackJsonp([24],{"7Zvi":function(t,s){},UC7z:function(t,s,_){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=_("7I1f"),n={data:function(){return{order_list:[],type:"",status:"",propel_msg:{},one_order_number:"",name:""}},created:function(){var t=this;this.$store.state.title_name="施工长订单",this.$store.commit("show_looding"),this.type=this.$route.query.order_type,this.status=this.$route.query.status,Object(e.a)({url:"/api/order/getOrder",data:{status:this.$route.query.status,order_type:3},method:"post"}).then(function(s){console.log(s),200==s.data.status&&(console.log(1111111111),t.order_list=s.data.data),t.$store.commit("hide_looding")})},computed:{yj_total:function(){for(var t=0,s=0;s<this.order_list.length;s++)t+=Number(this.order_list[s].partner_share_money);return console.log(t),t}},filters:{help:function(t,s){return 1==t?"待接单":2==t?"正在施工":3==t?"已确认":4==t?"已结算":""}},methods:{gk_assess:function(t,s){this.$router.push({path:"cinstructor_aassess",query:{id:t,type:3}})},run_work:function(t,s){this.$router.push({path:"run_work",query:{id:t}})},agree:function(t,s){var _=this;Object(e.a)({url:"/api/order/constructionConfirmReceipt",method:"post",data:{one_order_number:t}}).then(function(t){200==t.data.status?(_.$toast("已确认接单"),_.order_list.splice(s,1)):console.log(t.data)})},propel_des_tap:function(t){this.$router.push({path:"/order_detail",query:{id:t,type:3}})},link:function(t){this.$router.push({path:"/personal/yinbi",query:{id:t}})},btn_tap:function(t){""==t||null==t?this.$toast("暂未上传硬装全景"):window.location.href=t}}},r={render:function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("div",[_("div",{staticClass:"order_detail"},[1==t.status?_("p",[t._v("待施工订单")]):t._e(),t._v(" "),2==t.status?_("p",[t._v("在施工订单")]):t._e(),t._v(" "),3==t.status?_("p",[t._v("已确认订单")]):t._e(),t._v(" "),4==t.status?_("p",[t._v("已结算订单")]):t._e(),t._v(" "),""==t.order_list?_("div",[t._v("暂没有订单~")]):_("ul",t._l(t.order_list,function(s,e){return _("li",{key:e},[_("section",{staticClass:"order_number"},[t._v("订单号："+t._s(s.one_order_number))]),t._v(" "),_("section",{staticClass:"order_time"},[t._v("订单时间："+t._s(s.created_at))]),t._v(" "),_("section",{staticClass:"order_des"},[_("div",[_("span",[t._v("施工费：")]),t._v(" "),_("span",[t._v("￥"+t._s(s.total_sum))])]),t._v(" "),_("p",[_("span",[t._v("施工长：")]),t._v(" "),_("span",[t._v(t._s(s.constructor_user_info.nickname))])]),t._v(" "),_("p",[_("span",[t._v("施工长手机号：")]),t._v(" "),_("span",[t._v(t._s(s.constructor_user_info.mobile))])]),t._v(" "),_("p",[_("span",[t._v("每平米施工费用：")]),t._v(" "),_("span",[t._v(t._s(s.price)+"元")])]),t._v(" "),_("p",[_("span",[t._v("房屋面积：")]),t._v(" "),_("span",[t._v(t._s(s.area)+"平方米")])]),t._v(" "),_("p",[_("span",[t._v("房屋地址：")]),t._v(" "),_("span",[t._v(t._s(s.room_address_detail))])]),t._v(" "),_("p",[_("span",[t._v("业主：")]),t._v(" "),_("span",[t._v(t._s(s.quantity_room_info.surname)+t._s(s.quantity_room_info.name))])]),t._v(" "),_("p",[_("span",[t._v("业主电话：")]),t._v(" "),_("span",[t._v(t._s(s.quantity_room_info.mobile))])]),t._v(" "),_("p",[_("span",[t._v("希望完工日期：")]),t._v(" "),_("span",[t._v(t._s(s.quantity_room_info.renovation_end_year))]),t._v(" 年\n            "),_("span",[t._v(t._s(s.quantity_room_info.renovation_end_month>9?s.quantity_room_info.renovation_end_month:"0"+s.quantity_room_info.renovation_end_month))]),t._v(" 月\n          ")]),t._v(" "),_("div",{staticClass:"order_status"},[t._v("交易状态："+t._s(t._f("help")(s.staff_order_status)))]),t._v(" "),_("div",{staticClass:"sheji"},[_("div",{staticClass:"xq"},[3==t.status||4==t.status?_("p",{on:{click:function(_){return t.gk_assess(s.one_order_number,e)}}},[t._v("顾客评价")]):t._e(),t._v(" "),2==t.status||3==t.status||4==t.status?_("p",{on:{click:function(_){return t.link(s.one_order_number,t.status)}}},[t._v("隐蔽工程图")]):t._e(),t._v(" "),_("p",{on:{click:function(_){return t.btn_tap(s.quantity_room_info.yingzhuang_url)}}},[t._v("硬装全景")]),t._v(" "),1==t.status?_("p",{on:{click:function(_){return t.agree(s.one_order_number,e)}}},[t._v("同意接单")]):t._e(),t._v(" "),1==t.status?_("p",{on:{click:function(_){return t.propel_des_tap(s.one_order_number)}}},[t._v("订单详情")]):t._e(),t._v(" "),2==t.status||3==t.status||4==t.status?_("p",{on:{click:function(_){return t.run_work(s.one_order_number,t.status)}}},[t._v("用工管理")]):t._e()])]),t._v(" "),_("div",{staticClass:"order_total"},[_("p",[_("span",[t._v("第"+t._s(s.stage_number)+"期施工费合计：")]),t._v(" "),_("span",[t._v("￥"+t._s(s.total_sum))])])])])])}),0)])])},staticRenderFns:[]};var o=_("VU/8")(n,r,!1,function(t){_("7Zvi")},"data-v-b0240b48",null);s.default=o.exports}});
//# sourceMappingURL=24.6c586f419adf1606c0ca.js.map