webpackJsonp([7],{"2V0c":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("7I1f"),e={name:"test-123",data:function(){return{key_words:[],classify_list:"",classify_show1:!1,classify_show:!1,shop_datas:[],category_list:[],active:0,icon:"",active1:0,top:s("ETGY"),bottom:s("LxSW"),val:{keyword:"",sort:"asc",category_id:"",page:1,cate:""},shop_list_id:"",is_get:!1}},created:function(){var t=this.$route.query.id;console.log(t),this.val.category_id=this.shop_list_id=t,this.val.sort="",this.get_data({category_id:t,keyword:"",sort:""}),this.get_category(t)},watch:{$route:function(t,i){console.log(t.query.id),this.shop_datas=[],this.key_words=[],this.classify_show1=this.classify_show=!1,this.active=this.active1=this.val.keyword=this.val.cate=this.classify_list="",this.val.page=1,this.val.category_id=this.shop_list_id=t.query.id,this.get_data(),this.get_category(t.query.id)}},mounted:function(){var t=document.querySelector(".shopping_list"),i=this;t.addEventListener("touchend",function(){t.scrollHeight-t.clientHeight===t.scrollTop&&i.is_get&&(console.log(11),i.val.page+=1,i.get_data(),t=document.querySelector(".shopping_list"))})},methods:{classify_tap:function(t){this.active1==t?this.active1=0:this.active1=t,this.classify_show=!this.classify_show,this.classify_show1=!1},price_tap:function(t){this.val.page=1,this.shop_datas=[],""==this.val.sort?(this.val.sort="asc",this.active="1",this.icon=""):"asc"==this.val.sort?(this.val.sort="desc",this.active="1",this.icon="1"):"desc"==this.val.sort&&(this.val.sort="",this.active="",this.icon=""),this.get_data()},shop_detail_tap:function(t){this.$router.push({path:"/shop_detail",query:{id:t}})},search_tap:function(){this.val.page=1,this.shop_datas=[],this.get_data()},keyword_tap:function(t){var i=this;this.active="",this.val.page=1,this.val.keyword="",this.shop_datas=[],this.key_words=[],this.val.cate="",this.val.category_id==t?(this.val.category_id=this.shop_list_id,this.classify_show1=!1):(this.val.category_id=t,this.classify_show1=!0),this.get_data(),this.classify_show=!1,Object(a.a)({url:"/api/getGoodsCategory_other",data:{category_id:t},method:"post"}).then(function(t){if(console.log(t.data),i.$store.commit("hide_looding"),200==t.data.status){for(var s=0;s<t.data.data.length;s++)for(var a=t.data.data[s],e=0;e<a.children.length;e++)a.children[e].is=!1;i.classify_list=t.data.data}})},child_tap:function(t,i){for(var s=this.classify_list[t],a=this.classify_list[t].children[i].is,e=0;e<this.classify_list[t].children.length;e++)s.children[e].is=!1;s.children[i].is=!a,this.keyqqqq()},key_word_tap:function(t,i,s){console.log(this.key_words),this.key_words.splice(s,1),this.classify_list[t].children[i].is=!1},keyqqqq:function(){for(var t=[],i=[],s=0;s<this.classify_list.length;s++)for(var a=this.classify_list[s],e=0;e<a.children.length;e++)if(a.children[e].is){var o={parent_index:s,child_index:e,category_name:a.children[e].category_name};i.push(o),t.push(a.children[e].id)}this.key_words=i,this.val.cate=t.join(),this.get_data()},get_data:function(){var t=this;console.log(this.val),this.$store.commit("show_looding"),Object(a.a)({url:"/api/getGoodsList",data:this.val,method:"post"}).then(function(i){console.log(i.data),t.$store.commit("hide_looding"),200==i.data.status&&(t.shop_datas=i.data.data.data)})},get_category:function(t){var i=this;Object(a.a)({url:"/api/getGoodsCategory",method:"post"}).then(function(s){if(200==s.data.status)for(var a=0;a<s.data.data.length;a++)s.data.data[a].id==t&&(i.category_list=s.data.data[a])})}}},o={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"shopping_list"},[a("div",{staticClass:"hear"},[a("nav",[a("div",{staticClass:"search_type",style:{background:1==t.active1?"#2FC145":"#FF1284"},on:{click:function(i){return t.classify_tap()}}},[t._v("分类筛选")]),t._v(" "),a("div",{staticClass:"price_sort",style:{background:1==t.active?"#2FC145":"#FF1284"},on:{click:function(i){return t.price_tap()}}},[a("span",[t._v("价格")]),t._v(" "),a("img",{attrs:{src:""==t.icon?t.top:t.bottom,alt:""}})]),t._v(" "),a("div",{staticClass:"search_s"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.val.keyword,expression:"val.keyword"}],attrs:{type:"text"},domProps:{value:t.val.keyword},on:{input:function(i){i.target.composing||t.$set(t.val,"keyword",i.target.value)}}}),t._v(" "),a("div",{staticClass:"search",on:{click:t.search_tap}},[t._v("搜索")])])])]),t._v(" "),a("main",{attrs:{id:"view1"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.classify_show,expression:"classify_show"}],staticClass:"classify"},t._l(t.category_list.children,function(i,s){return a("div",{key:s},[a("p",[t._v(t._s(i.category_name)+"：")]),t._v(" "),a("ul",t._l(i.children,function(i,s){return a("li",{key:s,class:t.val.category_id==i.id?"key_active":"",on:{click:function(s){return t.keyword_tap(i.id)}}},[t._v(t._s(i.category_name))])}),0)])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.classify_show1&&""!=t.classify_list,expression:"classify_show1&&classify_list!=''"}],staticClass:"classify"},[t._l(t.classify_list,function(i,s){return a("div",{key:s},[a("p",[t._v(t._s(i.category_name)+"：")]),t._v(" "),a("ul",t._l(i.children,function(i,e){return a("li",{key:e,class:i.is?"key_active":"",on:{click:function(a){return t.child_tap(s,e,i.category_name)}}},[t._v(t._s(i.category_name))])}),0)])}),t._v(" "),a("p",{staticClass:"q_xuan"},[t._v("\n        已选：\n        "),t._l(t.key_words,function(i,e){return a("span",{key:e,on:{click:function(s){return t.key_word_tap(i.parent_index,i.child_index,e)}}},[a("span",[t._v(t._s(i.category_name))]),t._v(" "),a("img",{attrs:{src:s("JHGe"),alt:""}})])})],2)],2),t._v(" "),a("ul",{attrs:{id:"view"}},t._l(t.shop_datas,function(i,e){return a("li",{key:e,on:{click:function(s){return t.shop_detail_tap(i.id)}}},[a("img",{attrs:{src:i.gpics[0],alt:"1"}}),t._v(" "),a("div",{staticClass:"item_msg"},[a("div",[i.manufactor_name?a("h3",[t._v(t._s(i.manufactor_name))]):t._e(),t._v(" "),a("span",{staticClass:"item_ti"},[t._v(t._s(i.show_title))])]),t._v(" "),a("div",{staticClass:"looks"},[a("p",[t._v("￥"+t._s(i.price))]),t._v(" "),a("div",[a("img",{attrs:{src:s("I5kB"),alt:""}}),t._v(" "),a("span",[t._v(t._s(i.look_number))])])])])])}),0),t._v(" "),t.is_get?a("p",[t._v("上拉加载更多")]):t._e()])])},staticRenderFns:[]};var c=s("VU/8")(e,o,!1,function(t){s("Oyek")},"data-v-46fabc5e",null);i.default=c.exports},ETGY:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB3klEQVRYR+2Wz0sVURTHP1/aiZSC0KJF0saFEG5EsFdJtGulYIiEtBE38v4ZV7qSiAgiWrULyUoh2gThok3kwkUQ9INwpRw5j/Pkvmlm3sxrFczZzMzl3vP93O85c2fEP4SZjftySV8HTaNBF5rZVWAv1t+QdDhIroEAzOwa8Aa4EqJHwC1JX+pC1AYI8X3gckbsGzBbF6IWQIl4l6U2RGUAM5sAdnN2nnXdIW5L+lylHJUAQvwdMJYk9Xp7L3ik9/78HWhVgegLYGaTwOtE3IA14DqwHgAbwCdgKwF0iDlJB2VOlAKE+FtgNJK4+ENJj8zMRc8BJLXNbBXY9KMh5v8AbpZBFAKY2RSwkyfuyfMAYnwF2K4KkQsQ4t5wF7M779pZBFACcUfSx2w5/gIws2ngVUZ8WdLTdHEZQEAsAU8SJ37H29ED0QMQ4m77cIidAg+y4mUlyEDmQdyV9KE77xygQHxR0ou8Lu7nQFIqh3gMXIixP4CXowORAsxE0w0BJ8D9IvGqDiQQ88CzgDgOgPc9AJG0BbwEvOZ+LYyqDmQg/O24J8kPtU7kNeElSb/KxOs6kECMSPqZ5u57EhaB1HWgKE8D0DjQONA40DjQOPBfO9AGFuIr91yS/6bXjjOWtBEwXKPV1gAAAABJRU5ErkJggg=="},JHGe:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGQ0JGRjM4OUQxMTUxMUU4ODFERkY1RjE0Mjc3RjEwRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGQ0JGRjM4QUQxMTUxMUU4ODFERkY1RjE0Mjc3RjEwRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDQkZGMzg3RDExNTExRTg4MURGRjVGMTQyNzdGMTBGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZDQkZGMzg4RDExNTExRTg4MURGRjVGMTQyNzdGMTBGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qNFcQQAAAU5JREFUeNpcUbFKA0EQfbN3ly6xCCQxamen/kEsIoKiVf5CRKOdoCBYWIo2wb8QUyiGEGKRKqWQJiSFTTDCYbT07nZ8p0kUB5aZefPm7cyudOc8JN8jjGacZWOwa4ECgLwAA/qWG6KS/og6fsqBix8rWUeuScgKppZWYCXwUGK8w1MVKi+pI3ULfRHIK8GNXz5qxDPEs16g6yZyUabCLIGRqh5Ccf9No49zA3njbXneUHZFsTpWKfJcKvScjW0VrbPhitjauLngKiQ3mVNENqn2xMIRBBfMpyMxzhoq9ycAiQ9UrTI8FZUb5rVpDXg2Vu3jOG+QeEB/QtUz+mPqxTs046KxtiHdnCxqwmty6yHJQ+Jbf17jjjtkuGQu8RkUDYFeyg/3Ofv8P2Js2xaykPTDPcb9yafcaqQ95Q8yLsRPxRkHVGqJRYVYJyZ9CTAAIdR78MXMwu8AAAAASUVORK5CYII="},LxSW:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7UlEQVRYR+2WzatNURiHn1+MJF2lDAzExEDJRIrrI5ndEUXSTSYykX/mjhhJkkhGZpLvkomSwZ0oAwOlriQD0U+v3nNb51h7n733yGCvyTnt9np/z3rWx15iYLN9FTid3e9LWhlSSkM6RR/bEXgl+69ICqDebQQYDYwGRgOjgdHA/2fA9oKkr/M+a0O+hrXaUwZsLwIPgfOS4rex9QWwvQTcBpYkvZgUXgewfRB4DGwCfgFnJT1oIugDYPsUcBfYCPwATkh6HbVLgAMJsDlDfwNnmiC6AmT4PWBD1v2eAG+mAPKWExCPgC3zILoA2D4H3CrCvwEnJf0N/wcgIfYDT2cgliXdKadjHkCGx5xPLEf4MUlvyzrVbWh7FsK5MNch2gBsXwBuFOFrqX0qvGpgQpcQsSi35rOAuCjpZtultCH8iKT3tQXdehDZ3gs8r0HUDNi+BFwrRv4FON4U3mqgMBEQT4BthYnLwL7yWg68A64Xo4zwRUmrbedJp6PY9h4gDo8JRNT8AOzO4uX/eNQpvJOBwkQNoja4z7naW0feuA3bdKWJ2KLbG96L8EOSwkin1mkKZvZ/aH9VgfgEHO0T3msKKhDPgB35PMIPS/rYadjFS70NFGtiJ/ASiG9GjLx3+GADBcQu4KekMDCo/QEvgRMwy7PHWAAAAABJRU5ErkJggg=="},Oyek:function(t,i){}});
//# sourceMappingURL=7.8812907045d6a94fcd8b.js.map