webpackJsonp([20],{ALGg:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var _=e("7I1f"),a=(e("L/hj"),{data:function(){return{order_list:[],status:"",propel_msg:{},name:"",shadow:!1,pic_3d_url:"",url_img:"",shadow_is:"",one_order_number:""}},created:function(){this.$store.state.title_name="设计师订单",this.status=this.$route.query.status,this.get_data(this.$route.query.status)},computed:{yj_total:function(){for(var t=0,s=0;s<this.order_list.length;s++)t+=Number(this.order_list[s].partner_share_money);return console.log(t),t}},filters:{help:function(t){return 1==t?"正在设计":2==t?"待确认":3==t?"已确认":4==t?"已结算":""}},methods:{de_assess:function(t){this.$router.push({path:"cinstructor_aassess",query:{id:t,type:4}})},x_tap:function(){this.shadow=!1,this.pic_3d_url=this.one_order_number=""},propel_des_tap:function(t){this.$router.push({path:"/order_detail",query:{id:t,type:4}})},btn_tap:function(t,s,e){this.shadow=!0,this.one_order_number=t,this.shadow_is=e},tj_tap:function(){var t=this;if(/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/|www\.)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(this.pic_3d_url)){if(1==this.shadow_is)var s={one_order_number:this.one_order_number,yingzhuang_url:this.pic_3d_url};if(2==this.shadow_is)s={one_order_number:this.one_order_number,jingzhuang_url:this.pic_3d_url};console.log(s),Object(_.a)({url:"/api/order/upload_design_chart",method:"post",data:s}).then(function(s){200==s.data.status?(t.$toast("上传成功"),t.shadow=!1,t.get_data(t.status)):console.log(s.data)})}else this.$toast("请填写正确的3D链接地址")},get_data:function(t){var s=this;console.log(t),this.$store.commit("show_looding"),Object(_.a)({url:"/api/order/getOrder",data:{status:t,order_type:4,user_type_code:"desginer"},method:"post"}).then(function(t){console.log(t),200==t.data.status&&(s.order_list=t.data.data),s.$store.commit("hide_looding")})}}}),r={render:function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("div",[_("div",{staticClass:"order_detail"},[1==t.status?_("p",[t._v("待设计订单")]):t._e(),t._v(" "),2==t.status?_("p",[t._v("待确认订单")]):t._e(),t._v(" "),3==t.status?_("p",[t._v("已确认订单")]):t._e(),t._v(" "),4==t.status?_("p",[t._v("已结算订单")]):t._e(),t._v(" "),""==t.order_list?_("div",[t._v("暂没有订单~")]):_("ul",t._l(t.order_list,function(s,e){return _("li",{key:e},[_("section",{staticClass:"order_number"},[t._v("订单号："+t._s(s.one_order_number))]),t._v(" "),_("section",{staticClass:"order_time"},[t._v("订单时间："+t._s(s.created_at))]),t._v(" "),_("section",{staticClass:"order_des"},[_("div",[_("span",[t._v("设计费：")]),t._v(" "),_("span",[t._v("￥"+t._s(s.total_sum))])]),t._v(" "),_("p",[_("span",[t._v("设计师：")]),t._v(" "),_("span",[t._v(t._s(s.design_user_info.nickname))])]),t._v(" "),_("p",[_("span",[t._v("设计师手机号：")]),t._v(" "),_("span",[t._v(t._s(s.design_user_info.mobile))])]),t._v(" "),_("p",[_("span",[t._v("每平米设计费用：")]),t._v(" "),_("span",[t._v(t._s(s.price)+"元")])]),t._v(" "),_("p",[_("span",[t._v("房屋面积：")]),t._v(" "),_("span",[t._v(t._s(s.area)+"平方米")])]),t._v(" "),_("p",[_("span",[t._v("房屋地址：")]),t._v(" "),_("span",[t._v(t._s(s.room_address_detail))])]),t._v(" "),_("div",{staticClass:"order_status"},[t._v("交易状态："+t._s(t._f("help")(s.staff_order_status)))]),t._v(" "),_("div",{staticClass:"sheji"},[3==t.status||4==t.status?_("p",{on:{click:function(e){return t.de_assess(s.one_order_number)}}},[t._v("顾客评价")]):t._e(),t._v(" "),_("p",{on:{click:function(_){return t.btn_tap(s.one_order_number,e,1)}}},[t._v("硬装全景")]),t._v(" "),_("p",{on:{click:function(_){return t.btn_tap(s.one_order_number,e,2)}}},[t._v("精装全景")]),t._v(" "),_("p",{on:{click:function(e){return t.propel_des_tap(s.one_order_number)}}},[t._v("订单详情")])]),t._v(" "),_("div",{staticClass:"order_total"},[_("p",[_("span",[t._v("设计费合计：")]),t._v(" "),_("span",[t._v("￥"+t._s(s.total_sum))])])])])])}),0)]),t._v(" "),t.shadow?_("div",{staticClass:"shadow"},[_("div",[_("div",{staticClass:"sha_title"},[1==t.shadow_is?_("span",[t._v("上传硬装全景图")]):t._e(),t._v(" "),2==t.shadow_is?_("span",[t._v("上传精装全景图")]):t._e(),t._v(" "),_("img",{attrs:{src:e("qw6E"),alt:""},on:{click:t.x_tap}})]),t._v(" "),_("div",{staticClass:"up_add"},[_("p",[t._v("链接地址：")]),t._v(" "),_("input",{directives:[{name:"model",rawName:"v-model",value:t.pic_3d_url,expression:"pic_3d_url"}],attrs:{type:"text",placeholder:"请输入3D链接地址"},domProps:{value:t.pic_3d_url},on:{input:function(s){s.target.composing||(t.pic_3d_url=s.target.value)}}})]),t._v(" "),_("div",{staticClass:"add_btn"},[_("p",{staticClass:"add",on:{click:function(s){return t.tj_tap()}}},[t._v("确认添加")])])])]):t._e()])},staticRenderFns:[]};var o=e("VU/8")(a,r,!1,function(t){e("ZJmw")},"data-v-ec83b49a",null);s.default=o.exports},ZJmw:function(t,s){}});
//# sourceMappingURL=20.fc2fca6229505b597c6a.js.map