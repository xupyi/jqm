webpackJsonp([49],{NdZJ:function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7I1f"),e={components:{back_header:n("jnG1").a},data:function(){return{active:n("FL6W"),normal:n("PBIX"),parent_data:"",nav_li_index:0,nav_children_index:0,children_list:"",is:"",is_shadow:!1,condition:!0,choice_id:""}},created:function(){var i=this;Object(a.a)({url:"/api/getGoodsDesignList",method:"post"}).then(function(t){console.log(t),i.parent_data=t.data.data;var n=i.children_list=t.data.data[0].children[0].children;i.get_chioce(n)})},methods:{img_tap:function(i){this.$store.state.amplify_img=i},nav_tap:function(i,t){this.nav_li_index=i,this.nav_children_index=t,this.nav_li_index==this.parent_data.length-1&&this.nav_children_index==this.parent_data[this.nav_li_index].children.length-1?this.condition=!1:this.condition=!0,this.get_chioce()},item_tap:function(i){this.is=i,Object(a.a)({url:"/api/oneDesignSave",data:{style:i},method:"post"}).then(function(i){console.log(i.data)})},get_chioce:function(){var i=this,t=this.parent_data[this.nav_li_index].children[this.nav_children_index].children;this.children_list=t,Object(a.a)({url:"/api/getUserChoice",method:"post"}).then(function(n){if(console.log(n.data),null!=n.data.data)for(var a=n.data.data.choice.split(","),e=0;e<t.length;e++)for(var s=t[e],d=0;d<a.length;d++)s.id==a[d]&&(console.log(a[d]),i.is=a[d])})},tp:function(){this.condition=!0,0==this.nav_li_index&&0==this.nav_children_index?this.nav_children_index=0:0==this.nav_children_index?(this.nav_li_index=this.nav_li_index-1,this.nav_children_index=this.parent_data[this.nav_li_index].children.length-1):this.nav_children_index=this.nav_children_index-1,this.get_chioce()},next:function(){this.nav_children_index>=this.parent_data[this.nav_li_index].children.length-1?(this.nav_li_index=this.nav_li_index+1,this.nav_children_index=0):this.nav_children_index=this.nav_children_index+1,this.get_chioce(),this.nav_li_index==this.parent_data.length-1&&this.nav_children_index==this.parent_data[this.nav_li_index].children.length-1&&(this.condition=!1)},shadow:function(){for(var i=this,t=0,n=0;n<this.parent_data.length;n++)for(var e=0;e<this.parent_data[n].children.length;e++)t++;Object(a.a)({url:"/api/getUserChoice",method:"post"}).then(function(n){if(null!=n.data.data){var a=n.data.data.choice.split(",");console.log(a.length,t),a.length==t?i.add_info(n.data.data.choice):i.$toast("还有选项未选择")}else i.$toast("请选择地墙顶造型")})},x_tap:function(){this.is_shadow=!1},add_info:function(i){var t=this;Object(a.a)({url:"/api/addDesignInfo",data:{style:i},method:"post"}).then(function(i){t.$store.commit("hide_looding"),200==i.data.status?(console.log(i.data.data.choice_id),t.choice_id=i.data.data.choice_id,t.is_shadow=!0):t.$toast(i.data.msg)})},qued_tap:function(){this.is_shadow=!1,this.$router.push({path:"/home/design",query:{ch_id:this.choice_id}})}}},s={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[n("back_header"),i._v(" "),n("div",{staticClass:"select_design"},[i._m(0),i._v(" "),n("div",{staticClass:"hard_nav"},[n("ul",i._l(i.parent_data,function(t,a){return n("li",{key:a},[n("span",[i._v(i._s(t.name)+"：")]),i._v(" "),n("div",i._l(t.children,function(t,e){return n("span",{key:e,class:i.nav_li_index==a&i.nav_children_index==e?"fir":"",on:{click:function(t){return i.nav_tap(a,e)}}},[i._v(i._s(t.name))])}),0)])}),0)]),i._v(" "),n("div",{staticClass:"data_main"},[n("ul",i._l(i.children_list,function(t,a){return n("li",{key:a},[n("img",{attrs:{src:t.show_image,alt:"图片加载失败"},on:{click:function(n){return i.img_tap(t.show_image)}}}),i._v(" "),n("div",{on:{click:function(n){return i.item_tap(t.id)}}},[n("img",{attrs:{src:i.is==t.id?i.active:i.normal,alt:""}}),i._v(" "),n("span",{style:{color:i.is==t.id?"#ff1284":""}},[i._v(i._s(t.name))])])])}),0)]),i._v(" "),n("div",{staticClass:"foot"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0!=i.nav_li_index||0!=i.nav_children_index,expression:"nav_li_index!=0||nav_children_index!= 0"}],on:{click:i.tp}},[i._v("返回上页")]),i._v(" "),i.condition?n("div",{on:{click:i.next}},[i._v("下一页")]):n("div",{on:{click:i.shadow}},[i._v("提交完成")])])]),i._v(" "),i.is_shadow?n("div",{staticClass:"shadow"},[n("div",[i._m(1),i._v(" "),n("span",{on:{click:i.qued_tap}},[i._v("确定")])])]):i._e()],1)},staticRenderFns:[function(){var i=this.$createElement,t=this._self._c||i;return t("p",[this._v("\n      当前位置：设计 >\n      "),t("span",[this._v("选择地墙顶的造型")])])},function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"cont"},[t("h3",[this._v("顾客您好！")]),this._v(" "),t("p",[this._v("您选择的信息将作为设计参考依据，")]),this._v(" "),t("p",[this._v("已被系统保存，设计师会与您联系。")])])}]};var d=n("VU/8")(e,s,!1,function(i){n("qAY3")},"data-v-31af4ca6",null);t.default=d.exports},qAY3:function(i,t){}});
//# sourceMappingURL=49.91ae305b5ce95e6f44c5.js.map